{% load staticfiles %}
<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="utf-8" />
        <title>Editor</title>
        <link rel="stylesheet" href={% static 'Editor/css/style.css' %} />
        <link rel="stylesheet" href={% static 'Editor/css/editormd.css' %} />
        <link rel="shortcut icon" href="https://pandao.github.io/editor.md/favicon.ico" type="image/x-icon" />
    </head>

    <body>
        <div id="layout">
            <header>
                <h1>Simple example</h1>
            </header>
            <div id="test-editormd">
                <textarea style="display:none;"></textarea>
            </div>
        </div>
        <script src={% static 'Editor/jquery.min.js' %}></script>
        <script src={% static 'Editor/editormd.min.js' %}></script>
        <script type="text/javascript">
			var testEditor;

            $(function() {
                testEditor = editormd("test-editormd", {
                    width   : "90%",
                    height  : 640,
                    syncScrolling : "single",
                    path    : "/static/Editor/lib/",
                    //打开上传图片
                    imageUpload : true,
                    imageFormats : ["jpg", "jpeg", "gif", "png", "bmp", "webp"],
                    imageUploadURL : "/uploadfile",
                    saveHTMLToTextarea : true,
                    toolbarIcons : function() {
                    // Or return editormd.toolbarModes[name]; // full, simple, mini
                    // Using "||" set icons align right.
                    //return ["undo", "redo", "|", "bold", "hr", "|", "preview", "watch", "|", "fullscreen", "file", "faicon", "||", "watch", "fullscreen", "preview"]
                    return  ["bold", "del", "italic", "hr", "image", "table", "datetime", "|", "preview", "watch", "|", "fullscreen"];
                    },

                    //下面这一行将使用dark主题
                    editorTheme: "pastel-on-dark",
                    theme: "gray",
                    previewTheme : "dark"
                    //editor.md期望得到一个json格式的上传后的返回值，格式是这样的：
                      /*
                      {
                          success : 0 | 1,           // 0 表示上传失败，1 表示上传成功
                          message : "提示的信息，上传成功或上传失败及错误信息等。",
                          url     : "图片地址"        // 上传成功时才返回
                      }
  */
                });
            });
        </script>
    </body>
</html>